(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7502:(e,t,s)=>{Promise.resolve().then(s.bind(s,7595))},7595:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var a=s(5155),r=s(2115);function l(e){let{isOpen:t,onClose:s}=e,[l,n]=(0,r.useState)({name:"",email:"",phone:"",subject:"",message:""}),[c,i]=(0,r.useState)(!1),[o,d]=(0,r.useState)(!1),[m,x]=(0,r.useState)({}),p=()=>{let e={};return l.name.trim()||(e.name="お名前を入力してください"),l.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)||(e.email="正しいメールアドレスを入力してください"):e.email="メールアドレスを入力してください",l.subject.trim()||(e.subject="お問い合わせ件名を選択してください"),l.message.trim()?l.message.length>500&&(e.message="お問い合わせ内容は500文字以内で入力してください"):e.message="お問い合わせ内容を入力してください",x(e),0===Object.keys(e).length},u=async e=>{if(e.preventDefault(),p()){i(!0);try{let e=new FormData;if(Object.entries(l).forEach(t=>{let[s,a]=t;e.append(s,a)}),(await fetch("/api/send-contact-email",{method:"POST",body:e})).ok)d(!0),n({name:"",email:"",phone:"",subject:"",message:""}),x({});else throw Error("送信に失敗しました")}catch(e){console.error("Error:",e),alert("送信に失敗しました。しばらく経ってから再度お試しください。")}finally{i(!1)}}},h=e=>{let{name:t,value:s}=e.target;n(e=>({...e,[t]:s})),m[t]&&x(e=>({...e,[t]:""}))};return t?(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,a.jsx)("div",{className:"bg-white rounded-2xl p-6 md:p-8 max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto",children:o?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("i",{className:"ri-check-line text-3xl text-green-600"})}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"お問い合わせを送信しました"}),(0,a.jsxs)("p",{className:"text-gray-600 mb-6",children:["お問い合わせありがとうございます。",(0,a.jsx)("br",{}),"「umapan.umauma@gmail.com」にメールが送信されました。",(0,a.jsx)("br",{}),"1〜2営業日以内にご連絡いたします。"]}),(0,a.jsx)("button",{onClick:()=>{d(!1),s()},className:"bg-amber-600 hover:bg-amber-700 text-white font-bold py-3 px-6 rounded-xl transition-colors whitespace-nowrap cursor-pointer",children:"閉じる"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[(0,a.jsx)("i",{className:"ri-phone-line text-amber-600 mr-3"}),"お問い合わせ"]}),(0,a.jsx)("button",{onClick:s,className:"text-gray-500 hover:text-gray-700 cursor-pointer",children:(0,a.jsx)("i",{className:"ri-close-line text-2xl"})})]}),(0,a.jsxs)("form",{id:"contact-form",onSubmit:u,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["お名前 ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"text",name:"name",value:l.name,onChange:h,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-amber-500 focus:border-amber-500 text-sm",placeholder:"田中 太郎"}),m.name&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:m.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["メールアドレス ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"email",name:"email",value:l.email,onChange:h,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-amber-500 focus:border-amber-500 text-sm",placeholder:"example@email.com"}),m.email&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:m.email})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"電話番号"}),(0,a.jsx)("input",{type:"tel",name:"phone",value:l.phone,onChange:h,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-amber-500 focus:border-amber-500 text-sm",placeholder:"090-1234-5678"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["お問い合わせ件名 ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("select",{name:"subject",value:l.subject,onChange:h,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-amber-500 focus:border-amber-500 text-sm pr-8 bg-white appearance-none",children:[(0,a.jsx)("option",{value:"",children:"選択してください"}),(0,a.jsx)("option",{value:"予約について",children:"予約について"}),(0,a.jsx)("option",{value:"商品について",children:"商品について"}),(0,a.jsx)("option",{value:"営業時間について",children:"営業時間について"}),(0,a.jsx)("option",{value:"アクセス・場所について",children:"アクセス・場所について"}),(0,a.jsx)("option",{value:"その他",children:"その他"})]}),(0,a.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:(0,a.jsx)("i",{className:"ri-arrow-down-s-line text-gray-400"})})]}),m.subject&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:m.subject})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["お問い合わせ内容 ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("textarea",{name:"message",value:l.message,onChange:h,rows:5,maxLength:500,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-amber-500 focus:border-amber-500 text-sm resize-none",placeholder:"お問い合わせ内容をご記入ください"}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-1",children:[m.message&&(0,a.jsx)("p",{className:"text-red-500 text-sm",children:m.message}),(0,a.jsx)("div",{className:"ml-auto",children:(0,a.jsxs)("span",{className:"text-sm ".concat(l.message.length>500?"text-red-500":"text-gray-500"),children:[l.message.length,"/500"]})})]})]}),(0,a.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:(0,a.jsxs)("p",{className:"text-sm text-amber-700 flex items-start",children:[(0,a.jsx)("i",{className:"ri-information-line mr-2 mt-0.5 flex-shrink-0"}),"お問い合わせは「umapan.umauma@gmail.com」に直接送信されます。1〜2営業日以内にメールまたはお電話でご連絡いたします。"]})}),(0,a.jsx)("button",{type:"submit",disabled:c,className:"w-full bg-amber-600 hover:bg-amber-700 disabled:bg-gray-400 text-white font-bold py-3 px-6 rounded-xl transition-colors whitespace-nowrap cursor-pointer",children:c?(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)("i",{className:"ri-loader-4-line animate-spin mr-2"}),"送信中..."]}):(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)("i",{className:"ri-send-plane-line mr-2"}),"送信する"]})})]})]})})}):null}function n(){let[e,t]=(0,r.useState)(!1);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50",children:(0,a.jsxs)("nav",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("div",{className:"text-2xl font-['Pacifico'] text-amber-700",children:"うまじのパン屋"})}),(0,a.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,a.jsxs)("a",{href:"https://umajinopanya.take-eats.jp/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-amber-700 transition-colors flex items-center",suppressHydrationWarning:!0,children:[(0,a.jsx)("i",{className:"ri-shopping-bag-line mr-2"}),"商品を見る"]}),(0,a.jsxs)("button",{onClick:()=>t(!0),className:"bg-amber-600 hover:bg-amber-700 text-white px-4 py-2 rounded-lg font-medium whitespace-nowrap cursor-pointer transition-colors",children:[(0,a.jsx)("i",{className:"ri-phone-line mr-2"}),"お問い合わせ"]})]})]})}),(0,a.jsx)(l,{isOpen:e,onClose:()=>t(!1)})]})}function c(e){let{product:t,onAddToCart:s,reservationType:l="today"}=e,[n,c]=(0,r.useState)(1),i="today"===l?t.todayStock:t.advanceStock;return(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow border border-gray-100",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("img",{src:t.image,alt:t.name,className:"w-full h-40 object-cover object-top"}),(0,a.jsx)("div",{className:"absolute top-2 right-2",children:(0,a.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(i>5?"bg-green-100 text-green-800":i>0?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:["today"===l?"当日残り":"事前残り",i,"個"]})})]}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h3",{className:"font-bold text-lg mb-2 text-gray-800",children:t.name}),(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsxs)("p",{className:"text-amber-600 font-bold text-xl",children:["\xa5",t.price]}),(0,a.jsx)("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full",children:t.category})]}),i>0&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"数量:"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>{c(e=>Math.max(1,e-1))},className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center cursor-pointer hover:bg-gray-300 transition-colors",children:(0,a.jsx)("i",{className:"ri-subtract-line text-sm"})}),(0,a.jsx)("span",{className:"w-8 text-center font-bold",children:n}),(0,a.jsx)("button",{onClick:()=>{n<i&&c(e=>e+1)},className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center cursor-pointer hover:bg-gray-300 transition-colors",children:(0,a.jsx)("i",{className:"ri-add-line text-sm"})})]})]}),(0,a.jsxs)("button",{onClick:()=>{for(let e=0;e<n;e++)s(t);c(1)},className:"w-full bg-amber-600 hover:bg-amber-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors whitespace-nowrap cursor-pointer flex items-center justify-center",children:[(0,a.jsx)("i",{className:"ri-shopping-cart-line mr-2"}),"カートに追加"]})]})]})]})}function i(e){let{onAddToCart:t,reservationType:s,cartItems:l}=e,[n,i]=(0,r.useState)("all"),[o,d]=(0,r.useState)([]);(0,r.useEffect)(()=>{let e=()=>{let e=localStorage.getItem("bakery_products");if(e)try{return JSON.parse(e)}catch(e){console.error("商品データの読み込みに失敗しました:",e)}return[{id:1,name:"くるみぱん",price:173,image:"https://d1umvcecpsu7ql.cloudfront.net/storage/uploads/products/ZxjxLyytORue1foPjDwFbRCvcj6eXDWYmqvahUre.jpg?w=512",category:"ソフト系",reservationType:"both",todayStock:8,advanceStock:7},{id:2,name:"ぶどうぱん",price:173,image:"https://d1umvcecpsu7ql.cloudfront.net/storage/uploads/products/zfu8QOrZy6gPLPWYLfQlJHTyvOw6CrSXN1ByXIdr.jpg?w=512",category:"ソフト系",reservationType:"both",todayStock:6,advanceStock:6},{id:3,name:"クランベリークリームチーズ",price:291,image:"https://d1umvcecpsu7ql.cloudfront.net/storage/uploads/products/805LRi3WtYU6uQG4MaTlO7GVUa1RxJ2vg7t1R7KD.png?w=512",category:"ソフト系",reservationType:"both",todayStock:3,advanceStock:5},{id:4,name:"小倉ほいっぷ",price:281,image:"https://d1umvcecpsu7ql.cloudfront.net/storage/uploads/products/ni99PvZarExik5B9HAAeMvy6SIWO3r2ngjOb8dv5.jpg?w=512",category:"ソフト系",reservationType:"both",todayStock:4,advanceStock:6},{id:5,name:"あんぱん",price:259,image:"https://d1umvcecpsu7ql.cloudfront.net/storage/uploads/products/dDCFbMWQ5TunuH5vRDmmY3Pp20zjGF5K82hm6iXA.jpg?w=512",category:"ソフト系",reservationType:"both",todayStock:0,advanceStock:0},{id:6,name:"ゆずあんぱん",price:281,image:"https://d1umvcecpsu7ql.cloudfront.net/storage/uploads/products/1Rc342FgG9BL69mdCDxQFWKH9m8gqwbDa5SB8A0W.jpg?w=512",category:"ソフト系",reservationType:"both",todayStock:2,advanceStock:4},{id:7,name:"まるぱん",price:137,image:"https://d1umvcecpsu7ql.cloudfront.net/storage/uploads/products/cg4w7lfcx8aFqitxS9vzPmmwIEmQIyliNaQrpXnZ.jpg?w=512",category:"ソフト系",reservationType:"both",todayStock:12,advanceStock:8},{id:8,name:"おさとうぱん",price:173,image:"https://d1umvcecpsu7ql.cloudfront.net/storage/uploads/products/YsSrL42LOxBFicet4kSfckSix7eDRPlsfAQSUL8Q.jpg?w=512",category:"ソフト系",reservationType:"both",todayStock:7,advanceStock:7},{id:9,name:"ほいっぷサンド",price:227,image:"https://d1umvcecpsu7ql.cloudfront.net/storage/uploads/products/jMe1jNgDtEjEi0elWdMNFXaqRRVHaVlCCSN9j5dV.jpg?w=512",category:"ソフト系",reservationType:"both",todayStock:0,advanceStock:3},{id:10,name:"チョコレートほいっぷサンド",price:227,image:"https://d1umvcecpsu7ql.cloudfront.net/storage/uploads/products/mMigc2JQ3o748o16qRLkB4xnidtlfbynYLEjnioq.jpg?w=512",category:"ソフト系",reservationType:"both",todayStock:1,advanceStock:4},{id:11,name:"ぼうしぱん",price:248,image:"https://d1umvcecpsu7ql.cloudfront.net/storage/uploads/products/JhctqRKT4Z2ZEjeYy7XXws6nMlRTZJIdDHfoK9An.jpg?w=512",category:"ソフト系",reservationType:"both",todayStock:3,advanceStock:4},{id:12,name:"ハムぱん",price:227,image:"https://d1umvcecpsu7ql.cloudfront.net/storage/uploads/products/VT63lVHEOM0pE475ISiPQ9evmX66svUCGWSSdfNj.jpg?w=512",category:"ソフト系",reservationType:"both",todayStock:4,advanceStock:5},{id:13,name:"うぃんなーぱん",price:151,image:"https://d1umvcecpsu7ql.cloudfront.net/storage/uploads/products/EmQkuAM4LW2y6TUMRSadXXGsoowZPWInDQJG39yL.jpg?w=512",category:"ソフト系",reservationType:"both",todayStock:6,advanceStock:5},{id:14,name:"コーンぱん",price:205,image:"https://d1umvcecpsu7ql.cloudfront.net/storage/uploads/products/TXtRipMOdycgXTtrFD0oIiH4CdVmPulQi61Vn95i.jpg?w=512",category:"ソフト系",reservationType:"both",todayStock:0,advanceStock:2},{id:15,name:"マヨたまぱん",price:248,image:"https://d1umvcecpsu7ql.cloudfront.net/storage/uploads/products/AZ7cjJcJuJfGAvYcZlUugwFqwzqU2BQrhFOPva5d.jpg?w=512",category:"ソフト系",reservationType:"both",todayStock:8,advanceStock:5},{id:16,name:"焼きカレーパン",price:248,image:"https://d1umvcecpsu7ql.cloudfront.net/storage/uploads/products/4P5u73i54Q8Q9zFwCeG9JzJnuwTM9qsBq1DTv8uQ.jpg?w=512",category:"ソフト系",reservationType:"both",todayStock:2,advanceStock:2},{id:17,name:"あんばたーサンド",price:259,image:"https://d1umvcecpsu7ql.cloudfront.net/storage/uploads/products/JOgv0eyvwZUkzIfxIsGs6tpuT8HnJrVBJqExxBFu.jpg?w=512",category:"ソフト系",reservationType:"both",todayStock:0,advanceStock:1},{id:18,name:"ベーコンチーズぱん",price:227,image:"https://d1umvcecpsu7ql.cloudfront.net/storage/uploads/products/EpphBRlMEYA7sNH9Rutk6BLhmLFWKIv7QfBd5zeH.jpg?w=512",category:"ソフト系",reservationType:"both",todayStock:9,advanceStock:7},{id:19,name:"バゲット(L)",price:399,image:"https://d1umvcecpsu7ql.cloudfront.net/storage/uploads/products/UvNuQlC805L424NQvJHFvv7RIZdpHWZh9v3Fdf1h.jpg?w=512",category:"ハード系",reservationType:"both",todayStock:2,advanceStock:3},{id:20,name:"バゲット(S)",price:261,image:"https://d1umvcecpsu7ql.cloudfront.net/storage/uploads/products/lCwhcCJie57BeFIc3wn9G5Fm1bDJ4iHLwEam68gG.jpg?w=512",category:"ハード系",reservationType:"both",todayStock:4,advanceStock:4},{id:21,name:"フィセル",price:281,image:"https://d1umvcecpsu7ql.cloudfront.net/storage/uploads/products/bqeNeWVr000UCmcpmfpJzwUEnY48ozFcFzL2e3Dd.jpg?w=512",category:"ハード系",reservationType:"both",todayStock:1,advanceStock:2},{id:22,name:"プチちょこ",price:173,image:"https://d1umvcecpsu7ql.cloudfront.net/storage/uploads/products/IjdAyVvejkkLyDhbme3zmB21HJhZeQRKGgaGeSP2.jpg?w=512",category:"ハード系",reservationType:"both",todayStock:7,advanceStock:5},{id:23,name:"小倉フランス",price:173,image:"https://d1umvcecpsu7ql.cloudfront.net/storage/uploads/products/FD4K0HqU5CillmtO6vRPiW76dTd89p90rij4zyZV.jpg?w=512",category:"ハード系",reservationType:"both",todayStock:3,advanceStock:4},{id:24,name:"しおバター",price:335,image:"https://d1umvcecpsu7ql.cloudfront.net/storage/uploads/products/wdugFVM6K4rmiRgMnLBYVXtDxzMh2OG5Sh5sQURT.jpg?w=512",category:"ハード系",reservationType:"both",todayStock:0,advanceStock:0},{id:25,name:"シュガーバター",price:335,image:"https://d1umvcecpsu7ql.cloudfront.net/storage/uploads/products/Sq68sid2EoKQ1mLaf32HoNCqWq0Jhc9FJCdpWtvz.jpg?w=512",category:"ハード系",reservationType:"both",todayStock:2,advanceStock:2},{id:26,name:"じゃがちー",price:389,image:"https://d1umvcecpsu7ql.cloudfront.net/storage/uploads/products/ngMjWBnePmB9R7uIF5GSQMJOPd8qv8UPFs7BNR8A.jpg?w=512",category:"ハード系",reservationType:"both",todayStock:1,advanceStock:1},{id:27,name:"ベーコンエピ",price:410,image:"https://d1umvcecpsu7ql.cloudfront.net/storage/uploads/products/mnl9RL1FYtaMhT62rnnGx5ip1JaXjM5ivbONucwd.jpg?w=512",category:"ハード系",reservationType:"both",todayStock:3,advanceStock:3},{id:28,name:"くるみレーズンバター",price:335,image:"https://d1umvcecpsu7ql.cloudfront.net/storage/uploads/products/gl7f2sDN0zK49NJ2KOU6xfC7gcDx1JipsoEceBOO.jpg?w=512",category:"ハード系",reservationType:"both",todayStock:0,advanceStock:1},{id:29,name:"くるみレーズンばとん",price:313,image:"https://d1umvcecpsu7ql.cloudfront.net/storage/uploads/products/ZG4PvP7J8BmzyuhyAhzZU8svYtB03v4ifF03fdbs.jpg?w=512",category:"ハード系",reservationType:"both",todayStock:5,advanceStock:4},{id:30,name:"クランベリーバター",price:335,image:"https://d1umvcecpsu7ql.cloudfront.net/storage/uploads/products/AUiBX7rMDszXeOtucL3eUCMfR1Vnut7Gz7Ltwf2h.jpg?w=512",category:"ハード系",reservationType:"both",todayStock:2,advanceStock:3},{id:31,name:"クランベリーばとん",price:313,image:"https://d1umvcecpsu7ql.cloudfront.net/storage/uploads/products/OTRqzpMRrCXxle3pdrpq57OHF8kupSK7AtuD6tzW.jpg?w=512",category:"ハード系",reservationType:"both",todayStock:6,advanceStock:5}]};d(e());let t=()=>{d(e())};window.addEventListener("storage",t);let s=setInterval(()=>{let t=e();d(e=>JSON.stringify(e)!==JSON.stringify(t)?t:e)},1e3);return()=>{window.removeEventListener("storage",t),clearInterval(s)}},[]),(0,r.useEffect)(()=>{d(e=>[...e])},[s]);let m=()=>o.map(e=>{var t;let a=(null==(t=l.find(t=>t.id===e.id))?void 0:t.quantity)||0,r=Math.max(0,("today"===s?e.todayStock:e.advanceStock)-a);return{...e,todayStock:"today"===s?r:e.todayStock,advanceStock:"advance"===s?r:e.advanceStock}}),x=m().filter(e=>{let t=e.reservationType===s||"both"===e.reservationType,a="today"===s?e.todayStock>0:e.advanceStock>0;return t&&a}),p=["all",...Array.from(new Set(x.map(e=>e.category)))],u={all:"すべて",ソフト系:"ソフト系",ハード系:"ハード系"},h="all"===n?x:x.filter(e=>e.category===n),g=m().filter(e=>{let t=e.reservationType===s||"both"===e.reservationType,a="today"===s?0===e.todayStock:0===e.advanceStock;return t&&a});return(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-gray-800 flex items-center",children:[(0,a.jsx)("i",{className:"ri-shopping-bag-line text-amber-600 mr-2"}),"パンを選んでカートに追加"]}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:["today"===s?"当日お取り置き対象商品":"事前予約対象商品","（",h.length,"商品）"]})]}),(0,a.jsx)("div",{className:"p-4 rounded-xl mb-6 ".concat("today"===s?"bg-blue-50 border border-blue-200":"bg-green-50 border border-green-200"),children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("i",{className:"text-2xl mr-3 ".concat("today"===s?"ri-calendar-today-line text-blue-600":"ri-calendar-schedule-line text-green-600")}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold ".concat("today"===s?"text-blue-800":"text-green-800"),children:"today"===s?"当日お取り置き":"前日まで事前予約"}),(0,a.jsx)("p",{className:"text-sm ".concat("today"===s?"text-blue-600":"text-green-600"),children:"today"===s?"当日販売の在庫からお取り置きします（カートに入れた分は残り在庫から差し引かれます）":"前日までのご予約で確実にお渡しできます（カートに入れた分は残り在庫から差し引かれます）"})]})]})}),g.length>0&&(0,a.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-4 mb-6",children:[(0,a.jsxs)("h3",{className:"font-semibold text-orange-800 mb-2 flex items-center",children:[(0,a.jsx)("i",{className:"ri-error-warning-line mr-2"}),"today"===s?"当日お取り置き完売商品":"事前予約完売商品"]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:[g.slice(0,8).map(e=>(0,a.jsx)("div",{className:"text-sm text-orange-700 bg-orange-100 rounded-lg px-3 py-2",children:e.name},e.id)),g.length>8&&(0,a.jsxs)("div",{className:"text-sm text-orange-600 px-3 py-2",children:["...他",g.length-8,"商品"]})]})]}),(0,a.jsx)("div",{className:"flex gap-2 mb-6",children:p.map(e=>(0,a.jsx)("button",{onClick:()=>i(e),className:"px-6 py-3 rounded-full font-semibold transition-all whitespace-nowrap cursor-pointer ".concat(n===e?"bg-amber-600 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:u[e]},e))})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:h.map(e=>(0,a.jsx)(c,{product:e,onAddToCart:t,reservationType:s},"".concat(e.id,"-").concat(s)))}),0===h.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("i",{className:"ri-shopping-bag-line text-6xl text-gray-300 mb-4"}),(0,a.jsx)("p",{className:"text-gray-500 text-lg",children:g.length>0?"選択したカテゴリーの商品は".concat("today"===s?"当日お取り置き":"事前予約","完売です"):"選択したカテゴリーに商品がありません"})]})]})}function o(e){let{cartItems:t,onUpdateQuantity:s,onRemoveItem:l,onProceedToReservation:n}=e,[c,i]=(0,r.useState)(!1),o=t.reduce((e,t)=>e+t.price*t.quantity,0),d=t.reduce((e,t)=>e+t.quantity,0);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed bottom-6 right-6 z-50",children:(0,a.jsxs)("button",{onClick:()=>i(!0),className:"bg-amber-600 hover:bg-amber-700 text-white rounded-full p-6 shadow-xl hover:shadow-2xl transition-all whitespace-nowrap cursor-pointer relative",children:[(0,a.jsx)("i",{className:"ri-shopping-cart-fill text-3xl"}),d>0&&(0,a.jsx)("span",{className:"absolute -top-3 -right-3 bg-red-500 text-white text-sm rounded-full w-8 h-8 flex items-center justify-center font-bold border-2 border-white",children:d})]})}),c&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl p-6 max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-gray-800 flex items-center",children:[(0,a.jsx)("i",{className:"ri-shopping-cart-line mr-2"}),"カート"]}),(0,a.jsx)("button",{onClick:()=>i(!1),className:"text-gray-500 hover:text-gray-700 cursor-pointer",children:(0,a.jsx)("i",{className:"ri-close-line text-2xl"})})]}),0===t.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("i",{className:"ri-shopping-cart-line text-4xl text-gray-300 mb-4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"カートは空です"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"space-y-4 mb-6",children:t.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[(0,a.jsx)("img",{src:e.image,alt:e.name,className:"w-12 h-12 rounded-lg object-cover"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h3",{className:"font-medium text-sm truncate",children:e.name}),(0,a.jsxs)("p",{className:"text-amber-600 font-bold",children:["\xa5",e.price]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>s(e.id,Math.max(0,e.quantity-1)),className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center cursor-pointer hover:bg-gray-300 transition-colors",children:(0,a.jsx)("i",{className:"ri-subtract-line text-sm"})}),(0,a.jsx)("span",{className:"w-8 text-center font-bold",children:e.quantity}),(0,a.jsx)("button",{onClick:()=>s(e.id,e.quantity+1),className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center cursor-pointer hover:bg-gray-300 transition-colors",children:(0,a.jsx)("i",{className:"ri-add-line text-sm"})}),(0,a.jsx)("button",{onClick:()=>l(e.id),className:"ml-2 text-red-500 hover:text-red-700 cursor-pointer w-8 h-8 flex items-center justify-center rounded-full hover:bg-red-50 transition-colors",title:"カートから削除",children:(0,a.jsx)("i",{className:"ri-delete-bin-line text-lg"})})]})]},e.id))}),(0,a.jsx)("div",{className:"border-t pt-4 mb-6",children:(0,a.jsxs)("div",{className:"flex justify-between items-center text-lg font-bold",children:[(0,a.jsx)("span",{children:"合計金額:"}),(0,a.jsxs)("span",{className:"text-amber-600",children:["\xa5",o.toLocaleString()]})]})}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("button",{onClick:()=>{n(),i(!1)},className:"w-full bg-amber-600 hover:bg-amber-700 text-white font-bold py-3 px-6 rounded-xl transition-colors whitespace-nowrap cursor-pointer",children:"予約に進む"}),(0,a.jsx)("button",{onClick:()=>i(!1),className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium py-3 px-6 rounded-xl transition-colors whitespace-nowrap cursor-pointer",children:"買い物を続ける"})]})]})]})})]})}function d(e){var t,s;let{reservationType:l,selectedDate:n,onDateChange:c,error:i}=e,o=(0,r.useMemo)(()=>{let e=[],t=new Date;if("today"===l)e.push({value:t.toISOString().split("T")[0],label:"".concat(t.getMonth()+1,"月").concat(t.getDate(),"日（本日）"),dayOfWeek:["日","月","火","水","木","金","土"][t.getDay()]});else for(let s=1;s<=14;s++){let a=new Date(t);a.setDate(t.getDate()+s);let r=a.toISOString().split("T")[0],l=["日","月","火","水","木","金","土"][a.getDay()];e.push({value:r,label:"".concat(a.getMonth()+1,"月").concat(a.getDate(),"日"),dayOfWeek:l})}return e},[l]);return(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"受取日"}),"today"===l?(0,a.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("i",{className:"ri-calendar-check-line text-2xl text-blue-600 mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-blue-800",children:null==(t=o[0])?void 0:t.label}),(0,a.jsxs)("p",{className:"text-sm text-blue-600",children:["曜日: ",null==(s=o[0])?void 0:s.dayOfWeek,"曜日"]})]})]})}):(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:o.map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>c(e.value),className:"p-3 rounded-lg border transition-all text-left ".concat(n===e.value?"border-indigo-500 bg-indigo-50 text-indigo-700":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),children:[(0,a.jsx)("p",{className:"font-medium text-sm",children:e.label}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[e.dayOfWeek,"曜日"]})]},e.value))}),i&&(0,a.jsxs)("p",{className:"text-red-500 text-sm mt-2 flex items-center",children:[(0,a.jsx)("i",{className:"ri-error-warning-line mr-1"}),i]})]})}function m(e){let{selectedTime:t,onTimeChange:s,error:l}=e,n=(0,r.useMemo)(()=>{let e=[];for(let t=10;t<=16;t++)for(let s=0;s<60&&(16!==t||!(s>0));s+=30){let a="".concat(t.toString().padStart(2,"0"),":").concat(s.toString().padStart(2,"0"));e.push(a)}return e},[]);return(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:["受け取り時間",(0,a.jsx)("span",{className:"text-sm text-gray-500 ml-2",children:"（10:30〜16:00、30分刻み）"})]}),(0,a.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3",children:n.map(e=>(0,a.jsx)("button",{type:"button",onClick:()=>s(e),className:"p-3 rounded-lg border transition-all font-medium ".concat(t===e?"border-indigo-500 bg-indigo-50 text-indigo-700":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),children:e},e))}),l&&(0,a.jsxs)("p",{className:"text-red-500 text-sm mt-2 flex items-center",children:[(0,a.jsx)("i",{className:"ri-error-warning-line mr-1"}),l]})]})}function x(e){let{customerInfo:t,onInfoChange:s,errors:r}=e,l=(e,a)=>{s({...t,[e]:a})};return(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"お客様情報"}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["お名前 ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)("i",{className:"ri-user-line text-gray-400"})}),(0,a.jsx)("input",{type:"text",name:"name",value:t.name,onChange:e=>l("name",e.target.value),className:"w-full pl-10 pr-3 py-3 border rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ".concat(r.name?"border-red-500":"border-gray-300"),placeholder:"山田太郎"})]}),r.name&&(0,a.jsxs)("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[(0,a.jsx)("i",{className:"ri-error-warning-line mr-1"}),r.name]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["電話番号 ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)("i",{className:"ri-phone-line text-gray-400"})}),(0,a.jsx)("input",{type:"tel",name:"phone",value:t.phone,onChange:e=>l("phone",e.target.value),className:"w-full pl-10 pr-3 py-3 border rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ".concat(r.phone?"border-red-500":"border-gray-300"),placeholder:"090-1234-5678"})]}),r.phone&&(0,a.jsxs)("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[(0,a.jsx)("i",{className:"ri-error-warning-line mr-1"}),r.phone]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["メールアドレス ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)("i",{className:"ri-mail-line text-gray-400"})}),(0,a.jsx)("input",{type:"email",name:"email",value:t.email,onChange:e=>l("email",e.target.value),className:"w-full pl-10 pr-3 py-3 border rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 ".concat(r.email?"border-red-500":"border-gray-300"),placeholder:"example@email.com"})]}),r.email&&(0,a.jsxs)("p",{className:"text-red-500 text-sm mt-1 flex items-center",children:[(0,a.jsx)("i",{className:"ri-error-warning-line mr-1"}),r.email]})]})]})]})}function p(e){let{onComplete:t,cartItems:s,reservationType:l}=e,[n,c]=(0,r.useState)(""),[i,o]=(0,r.useState)(""),[p,u]=(0,r.useState)({name:"",phone:"",email:""}),[h,g]=(0,r.useState)({}),[b,j]=(0,r.useState)(!1),y=s.reduce((e,t)=>e+t.price*t.quantity,0);(0,r.useEffect)(()=>{let e=new Date().toISOString().split("T")[0];"today"===l?c(e):c("")},[l]);let f=()=>{let e={};return 0===s.length&&(e.cart="パンを選択してください"),n||(e.date="受取日を選択してください"),i||(e.time="受け取り時間を選択してください"),p.name.trim()||(e.name="お名前を入力してください"),p.phone.trim()?/^[0-9-]+$/.test(p.phone)||(e.phone="正しい電話番号を入力してください"):e.phone="電話番号を入力してください",p.email.trim()?/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(p.email)||(e.email="正しいメールアドレスを入力してください"):e.email="メールアドレスを入力してください",g(e),0===Object.keys(e).length},v=async e=>{e.preventDefault(),f()&&(j(!0),setTimeout(()=>{t({type:"today"===l?"当日お取り置き":"事前予約",date:n,time:i,items:s,totalPrice:y,...p}),j(!1),c("today"===l?new Date().toISOString().split("T")[0]:""),o(""),u({name:"",phone:"",email:""}),g({})},1500))};return(0,a.jsx)("div",{className:"bg-white rounded-2xl shadow-xl p-6 md:p-8 border border-gray-100",children:(0,a.jsxs)("form",{id:"reservation-form",onSubmit:v,className:"space-y-8",children:[(0,a.jsx)("div",{className:"p-4 rounded-xl ".concat("today"===l?"bg-blue-50 border border-blue-200":"bg-green-50 border border-green-200"),children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("i",{className:"text-2xl mr-3 ".concat("today"===l?"ri-calendar-today-line text-blue-600":"ri-calendar-schedule-line text-green-600")}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold ".concat("today"===l?"text-blue-800":"text-green-800"),children:"today"===l?"当日お取り置き":"前日まで事前予約"}),(0,a.jsx)("p",{className:"text-sm ".concat("today"===l?"text-blue-600":"text-green-600"),children:"today"===l?"本日のパンをお取り置きします":"事前にご予約いただいたパンをご準備します"})]})]})}),s.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold text-gray-800 mb-4 flex items-center",children:[(0,a.jsx)("i",{className:"ri-file-list-line text-amber-600 mr-2"}),"ご注文内容"]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4 space-y-3",children:[s.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("img",{src:e.image,alt:e.name,className:"w-12 h-12 rounded-lg object-cover"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["\xa5",e.price," \xd7 ",e.quantity]})]})]}),(0,a.jsxs)("p",{className:"font-bold text-amber-600",children:["\xa5",(e.price*e.quantity).toLocaleString()]})]},e.id)),(0,a.jsx)("hr",{className:"border-gray-200"}),(0,a.jsxs)("div",{className:"flex justify-between items-center font-bold text-lg",children:[(0,a.jsx)("span",{children:"合計金額:"}),(0,a.jsxs)("span",{className:"text-amber-600",children:["\xa5",y.toLocaleString()]})]})]})]}),h.cart&&(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:(0,a.jsxs)("p",{className:"text-red-600 flex items-center",children:[(0,a.jsx)("i",{className:"ri-error-warning-line mr-2"}),h.cart]})}),(0,a.jsx)(d,{reservationType:l,selectedDate:n,onDateChange:c,error:h.date}),(0,a.jsx)(m,{selectedTime:i,onTimeChange:o,error:h.time}),(0,a.jsx)(x,{customerInfo:p,onInfoChange:u,errors:h}),(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[(0,a.jsxs)("h3",{className:"font-semibold text-blue-800 mb-2 flex items-center",children:[(0,a.jsx)("i",{className:"ri-information-line mr-2"}),"ご注意ください"]}),(0,a.jsxs)("ul",{className:"text-sm text-blue-700 space-y-1",children:[(0,a.jsx)("li",{children:"• 完売次第閉店いたします"}),(0,a.jsx)("li",{children:"• 営業時間内であれば、ご予約のお客様をお待ちしております"}),(0,a.jsx)("li",{children:"• 当日の状況により、一部商品が品切れになる場合があります"}),"advance"===l&&(0,a.jsx)("li",{children:"• 事前予約商品は前日までに製造準備を行います"})]})]}),(0,a.jsx)("div",{className:"pt-6",children:(0,a.jsx)("button",{type:"submit",disabled:b||0===s.length,className:"w-full bg-amber-600 hover:bg-amber-700 disabled:bg-gray-400 text-white font-bold py-4 px-6 rounded-xl transition-colors whitespace-nowrap cursor-pointer shadow-lg hover:shadow-xl",children:b?(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)("i",{className:"ri-loader-4-line animate-spin mr-2"}),"予約を送信中..."]}):(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)("i",{className:"ri-check-line mr-2"}),"予約を確定する"]})})})]})})}function u(e){let{isOpen:t,onClose:s,reservationData:r}=e;return t?(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl p-6 md:p-8 max-w-md w-full mx-4 max-h-[80vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("i",{className:"ri-check-line text-3xl text-green-600"})}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"予約が完了しました！"}),(0,a.jsx)("p",{className:"text-gray-600",children:"予約確認メールをお送りいたします"})]}),r&&(0,a.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4 mb-6 space-y-3",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-800 mb-3",children:"予約内容"}),r.items&&r.items.length>0&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"ご注文商品:"}),(0,a.jsx)("div",{className:"space-y-2",children:r.items.map(e=>(0,a.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,a.jsxs)("span",{children:[e.name," \xd7 ",e.quantity]}),(0,a.jsxs)("span",{children:["\xa5",(e.price*e.quantity).toLocaleString()]})]},e.id))}),(0,a.jsxs)("div",{className:"border-t border-gray-200 mt-2 pt-2 flex justify-between font-bold",children:[(0,a.jsx)("span",{children:"合計:"}),(0,a.jsxs)("span",{className:"text-amber-600",children:["\xa5",r.totalPrice.toLocaleString()]})]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"予約タイプ:"}),(0,a.jsx)("span",{className:"font-medium",children:r.type})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"受取日:"}),(0,a.jsx)("span",{className:"font-medium",children:(e=>{let t=new Date(e),s=["日","月","火","水","木","金","土"][t.getDay()];return"".concat(t.getMonth()+1,"月").concat(t.getDate(),"日（").concat(s,"曜日）")})(r.date)})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"受け取り時間:"}),(0,a.jsx)("span",{className:"font-medium",children:r.time})]}),(0,a.jsx)("hr",{className:"border-gray-200"}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"お名前:"}),(0,a.jsx)("span",{className:"font-medium",children:r.name})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"電話番号:"}),(0,a.jsx)("span",{className:"font-medium",children:r.phone})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"メール:"}),(0,a.jsx)("span",{className:"font-medium text-sm",children:r.email})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("button",{onClick:s,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 px-6 rounded-xl transition-colors whitespace-nowrap cursor-pointer",children:"新しい予約をする"}),(0,a.jsx)("button",{onClick:s,className:"w-full bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium py-3 px-6 rounded-xl transition-colors whitespace-nowrap cursor-pointer",children:"閉じる"})]})]})}):null}function h(){let[e,t]=(0,r.useState)(!1),[s,l]=(0,r.useState)(null),[c,d]=(0,r.useState)([]),[m,x]=(0,r.useState)("today"),[h,g]=(0,r.useState)(!1),b=e=>{d(t=>t.filter(t=>t.id!==e))},j=e=>{x(e)};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(n,{}),(0,a.jsx)("div",{className:"relative bg-cover bg-center bg-no-repeat py-20",style:{backgroundImage:"linear-gradient(rgba(139, 69, 19, 0.7), rgba(160, 82, 45, 0.7)), url('https://static.readdy.ai/image/c132bc2fb67acaf93ab53aad7ce49121/7ee7d3f6b77035ae6c0ef83aa7ed8c6c.jfif')"},children:(0,a.jsxs)("div",{className:"container mx-auto px-4 text-center text-white",children:[(0,a.jsx)("h1",{className:"text-4xl md:text-6xl font-bold mb-4",children:(0,a.jsx)("span",{className:"font-['Pacifico'] text-yellow-200",children:"うまじのパン屋"})}),(0,a.jsx)("h2",{className:"text-2xl md:text-3xl font-bold mb-6",children:"予約システム"}),(0,a.jsxs)("p",{className:"text-lg md:text-xl max-w-3xl mx-auto leading-relaxed",children:["予約タイプを選んで好きなパンをカートに追加し、",(0,a.jsx)("br",{}),"受け取り日時を指定してご予約ください。",(0,a.jsx)("br",{}),"お受け取り時間は10:30〜16:00の間で30分刻みでご指定可能です。"]})]})}),(0,a.jsxs)("main",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[h?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)("button",{onClick:()=>{g(!1)},className:"flex items-center text-amber-600 hover:text-amber-700 font-medium cursor-pointer",children:[(0,a.jsx)("i",{className:"ri-arrow-left-line mr-2"}),"パン選択に戻る"]})}),(0,a.jsx)(p,{onComplete:e=>{l(e),t(!0),d([]),g(!1)},cartItems:c,reservationType:m})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center",children:[(0,a.jsx)("i",{className:"ri-bookmark-line text-amber-600 mr-2"}),"予約タイプをお選びください"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl",children:[(0,a.jsxs)("button",{onClick:()=>j("today"),className:"p-6 rounded-xl border-2 transition-all cursor-pointer ".concat("today"===m?"border-amber-500 bg-amber-50 text-amber-700 shadow-lg":"border-gray-200 hover:border-gray-300 hover:shadow-md"),children:[(0,a.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,a.jsx)("i",{className:"ri-calendar-today-line text-4xl"})}),(0,a.jsx)("h3",{className:"font-bold text-xl mb-2",children:"当日お取り置き"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 mb-3",children:["当日のみ選択可能",(0,a.jsx)("br",{}),"売り切れ防止におすすめ"]}),(0,a.jsx)("div",{className:"bg-white/70 rounded-lg p-3",children:(0,a.jsx)("p",{className:"text-xs text-gray-500 font-medium",children:"選択可能商品：全商品対応"})})]}),(0,a.jsxs)("button",{onClick:()=>j("advance"),className:"p-6 rounded-xl border-2 transition-all cursor-pointer ".concat("advance"===m?"border-amber-500 bg-amber-50 text-amber-700 shadow-lg":"border-gray-200 hover:border-gray-300 hover:shadow-md"),children:[(0,a.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,a.jsx)("i",{className:"ri-calendar-schedule-line text-4xl"})}),(0,a.jsx)("h3",{className:"font-bold text-xl mb-2",children:"前日まで事前予約"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 mb-3",children:["明日〜2週間後まで",(0,a.jsx)("br",{}),"確実な受け取りに"]}),(0,a.jsx)("div",{className:"bg-white/70 rounded-lg p-3",children:(0,a.jsx)("p",{className:"text-xs text-gray-500 font-medium",children:"選択可能商品：全商品対応"})})]})]})]}),(0,a.jsx)(i,{onAddToCart:e=>{d(t=>t.find(t=>t.id===e.id)?t.map(t=>t.id===e.id?{...t,quantity:t.quantity+1}:t):[...t,{...e,quantity:1}])},reservationType:m,cartItems:c})]}),(0,a.jsx)(o,{cartItems:c,onUpdateQuantity:(e,t)=>{if(0===t)return void b(e);d(s=>s.map(s=>s.id===e?{...s,quantity:t}:s))},onRemoveItem:b,onProceedToReservation:()=>{g(!0)}}),(0,a.jsx)(u,{isOpen:e,onClose:()=>t(!1),reservationData:s})]}),(0,a.jsx)("section",{className:"bg-white py-16",children:(0,a.jsx)("div",{className:"container mx-auto px-4 max-w-6xl",children:(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-8",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("i",{className:"ri-time-line text-2xl text-amber-600"})}),(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-3",children:"営業時間"}),(0,a.jsxs)("p",{className:"text-gray-600",children:["9:00〜18:00",(0,a.jsx)("br",{}),"（売り切れ次第終了）"]})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("i",{className:"ri-calendar-check-line text-2xl text-green-600"})}),(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-3",children:"予約方法"}),(0,a.jsxs)("p",{className:"text-gray-600",children:["当日お取り置き",(0,a.jsx)("br",{}),"前日までの事前予約"]})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("i",{className:"ri-map-pin-line text-2xl text-blue-600"})}),(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-3",children:"所在地"}),(0,a.jsxs)("p",{className:"text-gray-600",children:["高知県安芸郡馬路村馬路3888-1",(0,a.jsx)("br",{}),"(0887)44-2555"]})]})]})})})]})}function g(){return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:(0,a.jsx)(h,{})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(7502)),_N_E=e.O()}]);